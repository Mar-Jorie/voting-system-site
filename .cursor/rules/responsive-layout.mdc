---
description: MANDATORY responsive behavior patterns that AI agents MUST follow for mobile-first design, breakpoints, touch interactions, and device-specific adaptations.
alwaysApply: true
---

# 📱 Responsive Layout Rules (MANDATORY)

## ⚠️ CRITICAL: AI AGENTS MUST FOLLOW THESE RESPONSIVE RULES

**These responsive behavior specifications are MANDATORY for all implementations. Deviating from these rules is NOT ALLOWED.**

---

## 📱 Breakpoint System (MANDATORY)

### Screen Size Detection (MUST USE)
```javascript
// useScreenSize Hook - MANDATORY PATTERN
function useScreenSize() {
  const [isMobile, setIsMobile] = useState(false);
  const [isTablet, setIsTablet] = useState(false);
  const [isDesktop, setIsDesktop] = useState(false);
  const [isLargeDesktop, setIsLargeDesktop] = useState(false);

  useEffect(() => {
    const checkScreenSize = () => {
      const width = window.innerWidth;
      setIsMobile(width < 768);
      setIsTablet(width >= 768 && width < 1024);
      setIsDesktop(width >= 1024 && width < 1920);
      setIsLargeDesktop(width >= 1920);
    };

    checkScreenSize();
    window.addEventListener('resize', checkScreenSize);
    return () => window.removeEventListener('resize', checkScreenSize);
  }, []);

  return { isMobile, isTablet, isDesktop, isLargeDesktop };
}
```

### Breakpoint Values (MANDATORY)
```css
/* Breakpoint System - MANDATORY */
Mobile: < 768px     /* isMobile = true */
Tablet: 768px - 1023px  /* isTablet = true */
Desktop: 1024px - 1919px   /* isDesktop = true */
Large Desktop: ≥ 1920px   /* isLargeDesktop = true */
```

### Tailwind Breakpoints (MANDATORY)
```css
/* Tailwind Responsive Classes - MANDATORY */
sm: 640px    /* Small devices */
md: 768px    /* Medium devices (Tablet) */
lg: 1024px   /* Large devices (Desktop) */
xl: 1280px   /* Extra large devices */
2xl: 1536px  /* 2X Large devices */
3xl: 1920px  /* 3X Large devices (Large Desktop) */
```

---

## 📱 Mobile-First Design (MANDATORY)

### Mobile-First Approach (MUST FOLLOW)
```jsx
// Mobile-First Pattern - MANDATORY
// Start with mobile styles, then enhance for larger screens

// Mobile (default)
<div className="grid grid-cols-1 gap-4 p-4">

// Tablet (md:)
<div className="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">

// Desktop (lg:)
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4">

// Large Desktop (3xl:)
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 3xl:grid-cols-4 gap-4 p-4">
```

### Responsive Typography (MANDATORY)
- **Page Titles**: text-2xl md:text-3xl lg:text-4xl font-semibold
- **Section Headers**: text-xl md:text-2xl lg:text-3xl font-semibold
- **Card Titles**: text-lg md:text-xl lg:text-2xl font-semibold
- **Body Text**: text-sm md:text-base lg:text-lg
- **CRITICAL**: NO 3xl: font size prefixes allowed - large desktop uses same font sizes as desktop

### Responsive Spacing (MANDATORY)
- **Card Padding**: p-4 md:p-6 lg:p-8
- **Section Spacing**: space-y-4 md:space-y-6 lg:space-y-8
- **Grid Gaps**: gap-4 md:gap-6 lg:gap-8
- **CRITICAL**: NO 3xl: spacing prefixes allowed - large desktop uses same spacing as desktop

---

## 📱 Mobile Layout Behavior (MANDATORY)

### Mobile Sidebar Behavior (MUST FOLLOW)
```jsx
// Mobile Sidebar - MANDATORY PATTERN
- Position: fixed left-0 top-0
- Width: w-80 max-w-[80vw] (320px max, 80% viewport)
- Z-index: 50 (overlay mode)
- Transform: translateX(-100%) when closed
- Transform: translateX(0%) when open
- Backdrop: rgba(0, 0, 0, 0.3) overlay
- Touch gestures: Swipe to open/close
- Auto-close: setShow(false) on navigation click
```

### Mobile Header Behavior (MUST FOLLOW)
```jsx
// Mobile Header - MANDATORY PATTERN
- Position: sticky top-0 z-40
- Height: h-16 (64px)
- Profile: Avatar only (no name/role)
- Page actions: hidden (hidden sm:flex)
- Touch targets: min-w-[44px] min-h-[44px]
```

### Mobile Content Behavior (MUST FOLLOW)
```jsx
// Mobile Content - MANDATORY PATTERN
- Margin: 0 (no margin, sidebar overlays)
- Width: 100vw (full width)
- Padding: p-6 (24px)
- Background: bg-gray-50
- No transitions: Sidebar doesn't affect content
```

---

## 💻 Desktop Layout Behavior (MANDATORY)

### Desktop Sidebar Behavior (MUST FOLLOW)
```jsx
// Desktop Sidebar - MANDATORY PATTERN
- Position: fixed left-0 top-0
- Width: lg:w-[270px] (270px fixed)
- Z-index: 30 (push mode)
- Transform: translateX(0%) when open
- Transform: translateX(-100%) when closed
- No backdrop: No overlay
- No touch gestures: Click to toggle only
- No auto-close: Stays open during navigation
```

### Desktop Header Behavior (MUST FOLLOW)
```jsx
// Desktop Header - MANDATORY PATTERN
- Position: sticky top-0 z-40
- Height: h-16 (64px)
- Profile: Avatar + Name + Role (hidden lg:block)
- Page actions: visible (hidden sm:flex)
- Touch targets: min-w-[44px] min-h-[44px]
```

### Desktop Content Behavior (MUST FOLLOW)
```jsx
// Desktop Content - MANDATORY PATTERN
- Margin: marginLeft: 270px when sidebar open
- Margin: marginLeft: 0px when sidebar closed
- Width: calc(100vw - 270px) when sidebar open
- Width: 100vw when sidebar closed
- Padding: p-6 (24px)
- Background: bg-gray-50
- Transition: margin-left 0.3s ease-in-out
```

---

## 📱 Touch Interactions (MANDATORY)

### Touch Gesture System (MOBILE ONLY)
```jsx
// Touch Gestures - MANDATORY (Mobile Only)
- Touch handle: 40px wide on screen edge when sidebar closed
- Swipe from edge: Opens sidebar
- Swipe anywhere when open: Closes sidebar
- Drag distance: 30px threshold to trigger open/close
- Smooth animations: requestAnimationFrame for 60fps
- Touch detection: ontouchstart in window
```

### Touch Target Requirements (MANDATORY)
```css
/* Touch Targets - MANDATORY */
min-w-[44px] min-h-[44px]  /* All interactive elements */
touch-manipulation          /* Touch optimization */
```

### Touch Implementation (MUST FOLLOW)
**Note: For complete touch slide implementation details, see `@mobile-implementation.mdc`**

```jsx
// Touch Handle - MANDATORY (Mobile Only)
{shouldShowDragHandle && (
  <div 
    className="fixed top-0 bottom-0 z-30 touch-manipulation left-0" 
    style={{ width: 40 }} 
    onTouchStart={handleTouchStart} 
  />
)}

// Touch Behavior - MANDATORY
const shouldShowDragHandle = touchSupported && !show && isMobile;
const dragToggleDistance = 30;
const touchHandleWidth = 40;
```

---

## 📱 Responsive Grid Systems (MANDATORY)

### Grid Responsive Patterns (MUST USE)
```jsx
// Metric Cards Grid - MANDATORY
<div className="grid grid-cols-2 lg:grid-cols-4 3xl:grid-cols-6 gap-4">
  {/* Metric cards */}
</div>

// Content Grid - MANDATORY
<div className="grid grid-cols-1 lg:grid-cols-2 3xl:grid-cols-3 gap-6">
  {/* Content sections */}
</div>

// Form Grid - MANDATORY
<div className="grid grid-cols-1 md:grid-cols-2 3xl:grid-cols-3 gap-4">
  {/* Form fields */}
</div>

// Feature Cards Grid - MANDATORY
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 3xl:grid-cols-4 gap-6">
  {/* Feature cards */}
</div>
```

### Scrollbar Visibility Rules (MANDATORY)
```css
/* Hide scrollbars without disabling scroll where appropriate */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Usage Requirements */
- Apply `scrollbar-hide` to: main content area, sidebar nav, filter panels, dropdown menus, and any container using overflow-y-auto where scrollbars should not be visible.
- Do NOT apply `scrollbar-hide` to content areas where visible scrollbars are required for accessibility review environments.
```

### System-wide Scrollbar Hiding (MANDATORY)
```css
/* Global Scrollbar Hiding - MANDATORY FOR ALL SYSTEMS */
html, body, #root {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;     /* Firefox */
}
html::-webkit-scrollbar,
body::-webkit-scrollbar,
#root::-webkit-scrollbar {
  display: none;             /* Chrome, Safari, Opera */
}

/* MANDATORY: All scrollable containers MUST include scrollbar-hide */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* MANDATORY: Apply to all overflow containers */
.overflow-y-auto {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.overflow-y-auto::-webkit-scrollbar {
  display: none;
}

/* MANDATORY: Apply to specific scrollable elements */
main, nav, .sidebar, .filter-panel, .dropdown-menu {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
main::-webkit-scrollbar,
nav::-webkit-scrollbar,
.sidebar::-webkit-scrollbar,
.filter-panel::-webkit-scrollbar,
.dropdown-menu::-webkit-scrollbar {
  display: none;
}
```

### Grid Breakpoint Rules (MANDATORY)
```jsx
// Mobile: Single column (grid-cols-1)
// Tablet: Two columns (md:grid-cols-2)
// Desktop: Three+ columns (lg:grid-cols-3, lg:grid-cols-4)
// Large Desktop: Four+ columns (3xl:grid-cols-4, 3xl:grid-cols-5, 3xl:grid-cols-6)
```

## 🚫 No Horizontal Scrolling Rules (MANDATORY)

### Global Container Rules (MUST USE)
```css
/* No Horizontal Scrolling - MANDATORY RULES */

/* Global Container Rules */
.container {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  margin: 0 auto;
  padding: 0 1rem;
}

/* Mobile First - No Horizontal Scroll */
@media (max-width: 767px) {
  .container {
    padding: 0 0.75rem;
  }
  
  /* Ensure all content fits mobile viewport */
  * {
    max-width: 100%;
    box-sizing: border-box;
  }
}

/* Tablet and Desktop */
@media (min-width: 768px) {
  .container {
    max-width: 1200px;
    padding: 0 1.5rem;
  }
}

/* Large Desktop */
@media (min-width: 1280px) {
  .container {
    max-width: 1400px;
    padding: 0 2rem;
  }
}
```

### Viewport Fitting Patterns (MANDATORY)
```jsx
// Main Layout Container - MANDATORY
<div className="min-h-screen w-full max-w-full overflow-x-hidden bg-gray-50">
  {/* Content */}
</div>

// Page Container - MANDATORY
<div className="w-full max-w-full px-4 sm:px-6 lg:px-8">
  {/* Page content */}
</div>

// Card Grid - MANDATORY (No horizontal scroll)
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 w-full">
  {/* Cards */}
</div>

// Table Container - MANDATORY (Responsive table)
<div className="w-full overflow-x-auto">
  <table className="min-w-full divide-y divide-gray-200">
    {/* Table content */}
  </table>
</div>

// Form Container - MANDATORY
<form className="w-full max-w-md mx-auto space-y-4">
  {/* Form fields */}
</form>
```

### Device-Specific Fitting Rules (MANDATORY)
```css
/* Device Screen Fitting - MANDATORY BREAKPOINTS */

/* Mobile (320px - 767px) */
@media (max-width: 767px) {
  .container {
    width: 100vw;
    max-width: 100vw;
    padding: 0 1rem;
  }
  
  /* Single column layout */
  .grid-mobile {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

/* Tablet (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .container {
    width: 100vw;
    max-width: 100vw;
    padding: 0 1.5rem;
  }
  
  /* Two column layout */
  .grid-tablet {
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
  }
}

/* Desktop (1024px - 1919px) */
@media (min-width: 1024px) and (max-width: 1919px) {
  .container {
    width: 100vw;
    max-width: 1400px;
    padding: 0 2rem;
  }
  
  /* Multi-column layout */
  .grid-desktop {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }
}

/* Large Desktop (1920px+) */
@media (min-width: 1920px) {
  .container {
    width: 100vw;
    max-width: 1600px;
    padding: 0 3rem;
  }
  
  /* Enhanced multi-column layout for large screens */
  .grid-large-desktop {
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2.5rem;
  }
}
```

---

## 📱 Responsive Navigation (MANDATORY)

### Navigation Responsive Behavior (MUST FOLLOW)
```jsx
// Mobile and Tablet Navigation - MANDATORY
- Sidebar: Overlay mode with touch gestures
- Header: Hamburger menu always visible (lg:hidden)
- Profile: Avatar only in header
- NavSidebar: User profile at top, auto-close on click
- Width: w-80 max-w-[80vw]
- Navigation Links: hidden lg:flex (use hamburger on mobile AND tablet)

// Desktop Navigation - MANDATORY
- Sidebar: Push mode, persistent
- Header: Hamburger menu for toggle
- Profile: Avatar + Name + Role in header (hidden lg:block)
- NavSidebar: System branding at top, no auto-close
- Width: lg:w-[270px]
- Navigation Links: hidden lg:flex (full navigation only on desktop)
```

### Navigation State Management (MANDATORY)
```jsx
// Initial State - MANDATORY
const [show, setShow] = useState(!isMobile);

// Desktop: Always show sidebar
useEffect(() => {
  setShow(isDesktop);
}, [isMobile, isDesktop]);

// Mobile: Start closed, toggle on demand
// Desktop: Start open, toggle on demand
```

---

## 📱 Responsive Forms (MANDATORY)

### Form Responsive Patterns (MUST USE)
```jsx
// Form Layout - MANDATORY
<form className="space-y-4 md:space-y-6">
  {/* Single Column on Mobile, Two Columns on Desktop */}
  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
    <InputFactory fieldName="firstName" config={firstNameConfig} />
    <InputFactory fieldName="lastName" config={lastNameConfig} />
  </div>
  
  {/* Full Width Fields */}
  <InputFactory fieldName="email" config={emailConfig} />
  
  {/* Responsive Button Layout */}
  <div className="flex flex-col sm:flex-row gap-4">
    <Button variant="primary" className="w-full sm:w-auto">
      Submit
    </Button>
    <Button variant="secondaryOutline" className="w-full sm:w-auto">
      Cancel
    </Button>
  </div>
</form>
```

### Form Responsive Rules (MANDATORY)
```jsx
// Form Spacing - MANDATORY
space-y-4 md:space-y-6  /* Vertical spacing */
gap-4 md:gap-6          /* Grid gaps */

// Form Layout - MANDATORY
grid-cols-1 md:grid-cols-2  /* Two columns on desktop */
flex-col sm:flex-row        /* Stack on mobile, row on desktop */
```

---

## 📱 Responsive Cards (MANDATORY)

### Card Responsive Patterns (MUST USE)
```jsx
// Standard Card - MANDATORY
<div className="bg-white rounded-lg p-4 md:p-6 shadow-sm border border-gray-100">
  <h3 className="text-lg md:text-xl font-semibold text-gray-900 mb-3 md:mb-4">
    Card Title
  </h3>
  <p className="text-sm md:text-base text-gray-600">
    Card content
  </p>
</div>

// Metric Card - MANDATORY
<div className="bg-white rounded-lg p-4 md:p-5 shadow-sm border border-gray-100">
  <div className="flex items-center justify-between mb-3">
    <div className="w-8 h-8 md:w-10 md:h-10 bg-primary-50 rounded-lg flex items-center justify-center">
      <ChartBarIcon className="h-6 w-6 text-primary-600" />
    </div>
    <span className="text-xs font-medium text-green-800 bg-green-50 px-2 py-1 rounded-full">
      Status
    </span>
  </div>
  <h3 className="text-xl md:text-2xl font-bold text-gray-900 mb-1">
    Value
  </h3>
  <p className="text-xs md:text-sm text-gray-600">
    Description
  </p>
</div>
```

### Card Responsive Rules (MANDATORY)
```jsx
// Card Padding - MANDATORY
p-4 md:p-6    /* Standard cards */
p-4 md:p-5    /* Metric cards */

// Card Typography - MANDATORY
text-lg md:text-xl     /* Card titles */
text-sm md:text-base   /* Card content */
text-xs md:text-sm     /* Card descriptions */

// Card Icons - MANDATORY
w-8 h-8 md:w-10 md:h-10  /* Icon containers */
text-lg md:text-xl       /* Icon sizes */
```

---

## ⚠️ MANDATORY IMPLEMENTATION RULES

### 1. Mobile-First Rules (MANDATORY)
- ✅ ALWAYS start with mobile styles
- ✅ ALWAYS use responsive prefixes (md:, lg:)
- ✅ ALWAYS implement progressive enhancement
- ❌ NEVER start with desktop styles
- ❌ NEVER skip mobile considerations

### 2. Breakpoint Rules (MANDATORY)
- ✅ ALWAYS use the specified breakpoint values
- ✅ ALWAYS implement responsive behavior at each breakpoint
- ✅ ALWAYS test across all breakpoints
- ❌ NEVER use custom breakpoint values
- ❌ NEVER skip responsive behavior

### 3. Touch Interaction Rules (MANDATORY)
- ✅ ALWAYS implement touch gestures on mobile only
- ✅ ALWAYS provide touch targets ≥ 44px
- ✅ ALWAYS add touch-manipulation class
- ❌ NEVER implement touch gestures on desktop
- ❌ NEVER skip touch target requirements

### 4. Layout Behavior Rules (MANDATORY)
- ✅ ALWAYS implement mobile overlay mode
- ✅ ALWAYS implement desktop push mode
- ✅ ALWAYS use responsive width values
- ✅ ALWAYS implement proper state management
- ❌ NEVER mix mobile and desktop behaviors
- ❌ NEVER skip responsive layout changes

### 5. Content Adaptation Rules (MANDATORY)
- ✅ ALWAYS implement responsive typography
- ✅ ALWAYS implement responsive spacing
- ✅ ALWAYS implement responsive grids
- ✅ ALWAYS maintain visual hierarchy
- ❌ NEVER use fixed sizes without responsive alternatives
- ❌ NEVER skip responsive content adaptation

### 6. Scrollbar Hiding Rules (MANDATORY)
- ✅ ALWAYS hide scrollbars globally across all systems
- ✅ ALWAYS apply scrollbar-hide to all overflow containers
- ✅ ALWAYS hide scrollbars on main, nav, sidebar, filter panels
- ✅ ALWAYS use cross-browser scrollbar hiding methods
- ❌ NEVER show visible scrollbars unless required for accessibility
- ❌ NEVER skip global scrollbar hiding implementation

### 7. Font Size Consistency Rules (MANDATORY)
- ✅ ALWAYS use consistent font sizes across all screen sizes
- ✅ ALWAYS use md: and lg: breakpoints for responsive typography
- ✅ ALWAYS ensure large desktop uses same font sizes as desktop
- ❌ NEVER use 3xl: font size prefixes (text-3xl, text-4xl, text-5xl, etc.)
- ❌ NEVER create oversized fonts for large desktop screens
- ❌ NEVER skip responsive typography considerations

### 8. Container Width Rules (MANDATORY)
- ✅ ALWAYS use full width containers with responsive padding
- ✅ ALWAYS use px-4 sm:px-6 lg:px-6 pattern for consistent spacing
- ✅ ALWAYS ensure content uses full available width
- ❌ NEVER use max-width containers (max-w-7xl, max-w-6xl, max-w-4xl, etc.)
- ❌ NEVER constrain content width unnecessarily
- ❌ NEVER skip responsive padding implementation

### 9. Navigation Breakpoint Rules (MANDATORY)
- ✅ ALWAYS use lg: breakpoint for navigation visibility
- ✅ ALWAYS show hamburger menu on mobile AND tablet sizes
- ✅ ALWAYS use hidden lg:flex for navigation links
- ✅ ALWAYS use lg:hidden for hamburger menu
- ❌ NEVER use md: breakpoint for navigation (causes cramped layout)
- ❌ NEVER show full navigation on tablet sizes
- ❌ NEVER skip responsive navigation considerations

---

## 🚨 COMPLIANCE ENFORCEMENT

**AI AGENTS MUST:**
1. **Validate mobile-first approach** in every implementation
2. **Check responsive behavior** at all breakpoints
3. **Verify touch interactions** on mobile devices
4. **Confirm layout adaptation** across devices
5. **Validate content responsiveness** in all components
6. **Ensure proper state management** for responsive behavior
7. **Verify font size consistency** - no 3xl: prefixes allowed
8. **Check container width rules** - no max-width containers allowed
9. **Validate navigation breakpoints** - use lg: for hamburger menu
10. **Ensure consistent px spacing** across all screen sizes

**NON-COMPLIANCE WILL RESULT IN:**
- ❌ Rejection of implementation
- ❌ Mandatory correction before proceeding
- ❌ Responsive design violation warnings

**THESE RESPONSIVE RULES ARE NON-NEGOTIABLE AND MUST BE FOLLOWED IN ALL IMPLEMENTATIONS.**